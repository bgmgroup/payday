<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pay Day – Invoice Generator</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- PayPal SDK (replace YOUR_CLIENT_ID with your real one) -->
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&currency=USD"></script>
  <style>
    body { background-color: #f8f9fa; }
    .invoice-card { max-width:700px; margin:2rem auto; padding:2rem; background:white; border-radius:.5rem; box-shadow:0 0 .5rem rgba(0,0,0,.1); }
    .logo { max-height:50px; margin-bottom:1rem; }
    #invoice-form { opacity: .5; pointer-events: none; } /* disabled until paid */
    #paid-message { display: none; }
  </style>
</head>
<body>
  <div class="invoice-card">
    <div class="text-center mb-4">
      <img src="/static/logo.png" alt="Pay Day Logo" class="logo">
      <h2>Invoice Generator (Payment Required)</h2>
      <div id="paypal-button-container"></div>
      <p id="paid-message" class="text-success">✅ Payment received! You can now fill out and submit the form.</p>
    </div>

    <form id="invoice-form" action="/" method="post">
      <!-- (Your existing form sections here: Your Info, Client Info, etc.) -->
      <!-- ... -->
      <div class="text-center">
        <button id="generate-btn" type="submit" class="btn btn-primary btn-lg">Generate Invoice</button>
      </div>
    </form>
  </div>

  <script>
    paypal.Buttons({
      style: { layout: 'horizontal' },
      createOrder: (data, actions) => actions.order.create({
        purchase_units:[{ amount:{ value:'10.00' } }]
      }),
      onApprove: (data, actions) => actions.order.capture().then(details => {
        // enable the form
        document.getElementById('invoice-form').style.opacity = '1';
        document.getElementById('invoice-form').style.pointerEvents = 'auto';
        document.getElementById('paid-message').style.display = 'block';
        // scroll to form
        document.getElementById('invoice-form').scrollIntoView({ behavior: 'smooth' });
      })
    }).render('#paypal-button-container');
  </script>
</body>
</html>
